# ============================================
# 生产环境配置示例
# Production Environment Configuration Example
# ============================================

spring.application.name=xianyuchl1

# Server Configuration
server.port=8080

# ============================================
# MySQL Database Configuration (Production)
# 安全提示：请创建专用的数据库用户，不要使用 root 账户
# Security Note: Create a dedicated database user, do not use root account
# 示例：CREATE USER 'xianyuapp'@'localhost' IDENTIFIED BY 'secure_password';
#      GRANT SELECT, INSERT, UPDATE, DELETE ON xianyudb.* TO 'xianyuapp'@'localhost';
#      FLUSH PRIVILEGES;
# ============================================
# 注意：生产环境建议启用 SSL (useSSL=true) 并配置证书
# Note: For production, enable SSL (useSSL=true) and configure certificates
spring.datasource.url=jdbc:mysql://localhost:3306/xianyudb?useSSL=true&serverTimezone=Asia/Shanghai&characterEncoding=utf8mb4
spring.datasource.username=xianyuapp
spring.datasource.password=your_secure_password_here
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# ============================================
# JPA Configuration
# ============================================
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
# 注意：生产环境建议使用 validate 而不是 update，以避免意外修改表结构
# Note: For production, use 'validate' instead of 'update' to prevent accidental schema changes
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# ============================================
# Disable H2 Console in Production
# ============================================
spring.h2.console.enabled=false

# ============================================
# Thymeleaf Configuration
# ============================================
spring.thymeleaf.cache=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8

# ============================================
# File Upload Configuration
# ============================================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
# 如果需要保存文件到本地，请配置文件存储路径
# spring.servlet.multipart.location=/var/app/uploads

# ============================================
# Logging Configuration
# ============================================
# 生产环境建议使用 INFO 或 WARN 级别
# For production, use INFO or WARN level
logging.level.com.xianyu.marketplace=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate=WARN

# 日志文件配置
# logging.file.name=/var/log/xianyuchl1/application.log
# logging.file.max-size=10MB
# logging.file.max-history=30

# ============================================
# Security Configuration (Optional)
# ============================================
# 如果启用 Spring Security，可以在这里配置
# If Spring Security is enabled, configure it here
# spring.security.user.name=admin
# spring.security.user.password=your_secure_password

# ============================================
# Actuator Configuration (Optional)
# ============================================
# 用于生产环境监控
# For production monitoring
# management.endpoints.web.exposure.include=health,info,metrics
# management.endpoint.health.show-details=when-authorized
